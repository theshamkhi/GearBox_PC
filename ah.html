<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gearbox</title>
    <link rel="icon" href="../assets/media/Logo.png" />
    <meta name="description" content="GearBox PC est un magasin en ligne spécialisé dans les composants PC de haute qualité, fournissant tout ce dont vous avez besoin pour construire, mettre à niveau et optimiser votre ordinateur." />
    <meta name="keywords" content="Pc Parts, Monitor, Gaming Pc" />
    <meta name="author" content="CloudBlast">
    <link rel="stylesheet" href="assets/GearBox.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>

<body>
    <nav class="lg:px-32 shadow p-4 flex justify-between items-center p-8">
        <div class="space-x-4">
            <!-- Menu Button to toggle Sidebar -->
            <button class="text-2xl text-black" onclick="toggleMenu()">&#9776;</button>
            <span class="text-xl font-bold text-black">GearBox Pc</span>
        </div>
        <div class="flex items-center space-x-6">
            <a href="templates/Panier.html"></a><button class="text-2xl hover:opacity-50" title="Panier">&#128722;</button></a>
            <button class="text-2xl hover:opacity-50" title="Login">&#128100;</button>
        </div>
    </nav>

    <!-- Sidebar (left) -->
    <div id="MenuSidebar" class="fixed top-0 left-0 w-64 h-full bg-white shadow-lg p-4 z-50 transform -translate-x-full transition-transform duration-300">
        <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-semibold">Menu</h3>
            <!-- Close Button -->
            <button onclick="toggleMenu()" class="text-base font-normal" title="Close">&#10005;</button>
        </div>
        <ul class="space-y-4">
            <li><a href="templates/Catalogue.html" class="block text-gray-800 hover:text-black">Catalogue</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">Carte mère</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">Processeur</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">Carte graphique</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">RAM</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">Refroidissement</a></li>
            <hr>
            <li><a href="#" class="block text-gray-800 hover:text-black">Boîtier</a></li>
            <hr>
            <li><a href="templates/APropos.html" class="block text-gray-800 hover:text-black">A propos</a></li>
        </ul>
    </div>

    <main>
        <h2 class="titre">Composants</h2>
        <section class="vente" id="product-list">
            <!-- Product cards will be inserted here dynamically -->
        </section>

        <!-- Pagination -->
        <div class="pagination flex justify-center space-x-4 mt-8">
            <button id="page1" class="page-button bg-blue-500 text-white px-4 py-2 rounded">1</button>
            <button id="page2" class="page-button bg-blue-500 text-white px-4 py-2 rounded">2</button>
            <button id="page3" class="page-button bg-blue-500 text-white px-4 py-2 rounded">3</button>
        </div>
    </main>

    <footer class="bg-slate-600 py-8 border-t">
        <!-- Footer content (simplified) -->
        <div class="text-center mt-8">&copy; 2024 - Designed by <strong>CHAMKHI</strong></div>
    </footer>

    <script>
        let currentPage = 1;
        const itemsPerPage = 4;
        let productsData = [];

        // Fetch the product data from JSON file
        fetch('../data/data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error("Error loading data.json file");
                }
                return response.json();
            })
            .then(data => {
                productsData = data; // Store the product data
                displayProducts(currentPage); // Display initial page
            })
            .catch(error => console.error('Error:', error));

        // Function to display products based on the current page
        function displayProducts(page) {
            const startIndex = (page - 1) * itemsPerPage;
            const endIndex = page * itemsPerPage;
            const currentProducts = productsData.slice(startIndex, endIndex);
            const productList = document.getElementById('product-list');

            // Clear previous products
            productList.innerHTML = '';

            // Loop through the current page products and create cards
            currentProducts.forEach(product => {
                const productCard = document.createElement('div');
                productCard.classList.add('max-w-sm', 'bg-white', 'border', 'border-gray-200', 'rounded-lg', 'shadow-md');
                productCard.innerHTML = `
                    <a href="#">
                        <img class="rounded-t-lg" src="${product.image_urls[0]}" alt="${product.name}">
                    </a>
                    <div class="p-5">
                        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900">${product.name}</h5>
                        <a href="#" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 ml-7 mt-5">
                            Ajouter au panier
                        </a>
                    </div>
                `;
                productList.appendChild(productCard);
            });
        }

        // Event listeners for pagination buttons
        document.getElementById('page1').addEventListener('click', () => {
            currentPage = 1;
            displayProducts(currentPage);
        });

        document.getElementById('page2').addEventListener('click', () => {
            currentPage = 2;
            displayProducts(currentPage);
        });

        document.getElementById('page3').addEventListener('click', () => {
            currentPage = 3;
            displayProducts(currentPage);
        });
    </script>
</body>

</html>

<!--  -->
<section class="vente">
    <div id="gamer1" class="max-w-sm bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
        <a href="#" id="carte1">
            <img id="imgapi1" class="rounded-t-lg" src="" alt="" />
        </a>
        <div class="p-5">
            <a href="#">
                <h5 id="txtapi1" class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">PC Gamer intel i5 RTX 3060</h5>
                <div id="descriapi1"></div>
            </a>
            <a href="#" id="bouton1" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-7 mt-5">
                Ajouter au panier
            </a>
        </div>
    </div>
    <div id="gamer2" class="max-w-sm bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
        <a href="#">
            <img id="imgapi2" class="rounded-t-lg" src="assets/media/PC2.jpg" alt="" />
        </a>
        <div class="p-5">
            <a href="#">
                <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">PC Gamer AMD Ryzen 7 RTX 4060 Ti</h5>
            </a>
            <a href="#" id="bouton2" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-7 mt-5">
                Ajouter au panier
            </a>
        </div>
    </div>
    <div id="gamer3" class="max-w-sm bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
        <a href="#">
            <img id="imgapi3" class="rounded-t-lg" src="assets/media/PC3.jpg" alt="" />
        </a>
        <div class="p-5">
            <a href="#">
                <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">PC Gamer AMD Ryzen 7 RTX 4060 </h5>
            </a>
            <a href="#" id="bouton3" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-7 mt-5">
                Ajouter au panier
            </a>
        </div>
    </div>
    <div id="gamer4" class="max-w-sm bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700">
        <a href="#">
            <img id="imgapi4" class="rounded-t-lg" src="assets/media/PC4.jpg" alt="" />
        </a>
        <div class="p-5">
            <a href="#">
                <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">PC Gamer AMD Ryzen 5 RTX 4060</h5>
            </a>
            <a href="#" id="bouton4" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-7 mt-5">
                Ajouter au panier
            </a>
        </div>
    </div>
</section>

<a href="#" id="bouton4" class="inline-flex items-center px-10 py-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 ml-7 mt-5">
    Ajouter au panier
</a>